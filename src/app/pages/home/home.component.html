<div id="home" class="vh-100">
  <div class="mt-3 text-center">
      <h1>Bienvenue au Partenariat du lycée</h1>
  </div>

  <!-- Recette du jour -->
  <div class="container my-4">
      <div class="card shadow">
          <div class="card-header bg-primary text-white">
              <h2 class="mb-0"><i class="bi bi-stars me-2"></i>Recette du jour</h2>
          </div>
          <div class="card-body">
              <!-- Affichage du spinner pendant le chargement -->
              <div *ngIf="isLoading" class="text-center p-4">
                  <div class="spinner-border text-primary" role="status">
                      <span class="visually-hidden">Chargement...</span>
                  </div>
              </div>

              <!-- Message d'erreur -->
              <div *ngIf="errorMessage" class="alert alert-danger">
                  {{ errorMessage }}
              </div>

              <!-- Contenu de la recette -->
              <div *ngIf="recetteDuJour && !isLoading" class="p-2">
                  <h3 class="card-title fw-bold text-primary">{{ recetteDuJour.titre }}</h3>
                  <p class="card-text fs-5">{{ recetteDuJour.description }}</p>
                  
                  <!-- Ajout de quelques caractéristiques -->
                  <div class="d-flex flex-wrap gap-2 mt-3 mb-3" *ngIf="recetteDuJour.resultats && recetteDuJour.resultats.length > 0">
                      <span class="badge bg-info p-2">Surgraissage: {{ recetteDuJour.surgraissage }}%</span>
                      <span class="badge bg-success p-2" *ngIf="recetteDuJour.resultats[0]">{{ recetteDuJour.resultats[0].caracteristique?.nom }}: {{ recetteDuJour.resultats[0].score.toFixed(1) }}</span>
                      <span class="badge bg-warning text-dark p-2" *ngIf="recetteDuJour.resultats[1]">{{ recetteDuJour.resultats[1].caracteristique?.nom }}: {{ recetteDuJour.resultats[1].score.toFixed(1) }}</span>
                  </div>
                  
                  <div class="text-end mt-3">
                      <a [routerLink]="['/recettes']" class="btn btn-primary me-2">
                          Voir toutes les recettes
                      </a>
                      <a [routerLink]="['/recette-calculateur']" class="btn btn-outline-secondary">
                          Créer une recette
                      </a>
                  </div>
              </div>

              <!-- Message si pas de recette disponible -->
              <div *ngIf="!recetteDuJour && !isLoading && !errorMessage" class="alert alert-info">
                  Aucune recette du jour disponible pour le moment.
              </div>
          </div>
      </div>
  </div>

  <!-- Reste du contenu existant -->
  <div id="flexhome">
      <section>
          <h2>Notre Partenariat</h2>
          <p>Adepro et le lycée Léonard de Vinci de Melun collaborent pour offrir une solution innovante aux étudiants et enseignants.</p>
          <p>En savoir plus :
              <a href="https://www.adepro-consultant.fr/" target="_blank">Adepro</a> |
              <a href="https://www.vinci-melun.org/" target="_blank">Lycée Vinci</a>
          </p>
      </section>

      <section>
          <h2>Pourquoi cette application ?</h2>
          <p>Faciliter la formulation de savons pédagogiques à partir de recettes simples ou avancées.</p>
      </section>

      <section>
          <h2>À qui s'adresse-t-elle ?</h2>
          <p>Aux élèves, enseignants, porteurs de projets ou formateurs dans le domaine de la chimie et de la cosmétique artisanale.</p>
      </section>
  </div>
</div>